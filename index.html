<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Photo gallery</title>

        <link type="image/x-icon" href="/img/icons/favicon-16x16.png" rel="shortcut icon" />
        <link rel="stylesheet" href="./css/main.css" />

        <script>
            const key = "darkMode";

            if (localStorage.getItem(key) === "dark") {
                document.documentElement.classList.add("dark");
            } else if (localStorage.getItem(key) === "light") {
                document.documentElement.classList.remove("dark");
            }
        </script>
    </head>
    <body class="scroll-smooth">
        <nav class="nav">
            <div class="nav-container">
                <div class="nav-row">
                    <button class="dark-mode-btn">
                        <img src="./img/icons/Sun.svg" alt="light-mode" class="dark-mode-btn__icon" />
                        <img src="./img/icons/Moon.svg" alt="dark-mode" class="dark-mode-btn__icon" />
                    </button>

                    <a href="./index.html" class="logo">
                        <span>Chasing</span> <strong>Light</strong>
                        <p>photo-gallery</p>
                    </a>

                    <ul class="nav-list">
                        <li class="nav-list__item">
                            <a href="./gallery.html" class="nav-list__link">Gallery</a>
                        </li>
                        <li class="nav-list__item">
                            <a href="./about.html" class="nav-list__link">About</a>
                        </li>
                    </ul>

                    <div class="nav__burger">
                        <span></span>
                    </div>
                </div>
            </div>
        </nav>

        <main class="sections">
            <section class="section" id="main-section">
                <h1>Discovering the beauty of light in every moment</h1>
                <div class="content">
                    <div class="text-column">
                        <!-- <h2>1. The Chase</h2> -->
                        <p>
                            Photography is the art of capturing the delicate dance between light and shadow. In every frame, we
                            chase the fleeting moments of beauty that only light can reveal.
                        </p>
                    </div>
                    <div class="image-column">
                        <div class="image-wrapper">
                            <img src="./img/4.jpg" alt="Light Chase" />
                        </div>
                    </div>
                </div>
            </section>

            <section class="section" id="section2">
                <div class="image-column">
                    <div class="image-wrapper">
                        <img src="./img/24.jpg" alt="Frozen Moment" />
                    </div>
                </div>
                <div class="text-column">
                    <p>
                        Each photo freezes a moment in time, transforming it into a story that can be revisited again and again.
                    </p>
                </div>
            </section>

            <section class="section" id="section3">
                <div class="text-column">
                    <p>Embracing shadows gives depth and contrast, making light even more powerful in photography.</p>
                </div>
                <div class="image-column">
                    <div class="image-wrapper">
                        <img src="./img/7.jpg" alt="Embracing Shadows" />
                    </div>
                </div>
            </section>

            <section class="section" id="section4">
                <div class="image-column">
                    <div class="image-wrapper">
                        <img src="./img/32.jpg" alt="Personal Connection" />
                    </div>
                </div>
                <div class="text-column">
                    <p>Behind every great photograph is the personal connection of the photographer to the moment.</p>
                </div>
            </section>

            <section class="section" id="section5">
                <div class="text-column">
                    <p>Infinite exploration in the search for light is a never-ending journey of creativity and discovery.</p>
                </div>
                <div class="image-column">
                    <div class="image-wrapper">
                        <img src="./img/23.jpg" alt="Infinite Exploration" />
                    </div>
                </div>
            </section>
        </main>

        <!-- <footer class="footer">
            <div class="container">
                <div class="footer__wrapper">
                    <ul class="social">
                        <li class="social__item">
                            <a href="#!" target="_blank"> <img src="./img/icons/instagram.svg" alt="instagram" /></a>
                        </li>
                    </ul>

                    <div class="copyright">
                        <p>@ 2024 my-site.com</p>
                    </div>
                </div>
            </div>
        </footer> -->

        <script src="./js/jquery-3.7.1.min.js"></script>
        <script src="./js/main.js"></script>
        <script src="./js/dark-theme.js"></script>

        <script src="https://cdn.jsdelivr.net/npm/smooth-scrollbar@8.6.3/dist/smooth-scrollbar.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/smooth-scrollbar@8.6.3/dist/plugins/overscroll.js"></script>

        <script>
            const Scrollbar = window.Scrollbar;
            Scrollbar.use(window.OverscrollPlugin);

            const scrollObject = Scrollbar.init(document.querySelector(".sections"), {
                damping: 0.07,
                plugins: {
                    overscroll: {
                        effect: "glow", // Эффект (может быть "bounce" или "glow")
                        maxOverscroll: 150,
                        glowColor: "black", // Цвет свечения (если используется glow)
                        // onScroll(position) {},
                    },
                },
            });

            // Массив секций
            const sections = document.querySelectorAll("section");
            let currentSection = 0;
            let isScrolling = false;

            // Функция для плавной прокрутки к секции
            function scrollToSection(index) {
                if (isScrolling) return; // Защита от многократного вызова
                isScrolling = true;

                const sectionTop = sections[index].offsetTop;
                scrollObject.scrollTo(0, sectionTop, 1200, {
                    callback: () => {
                        isScrolling = false; // Разрешить дальнейшую прокрутку
                    },
                });
            }

            // Управление прокруткой через стрелки
            document.addEventListener("keydown", (e) => {
                if (isScrolling) return;

                if (e.key === "ArrowDown" && currentSection < sections.length - 1) {
                    currentSection++;
                    scrollToSection(currentSection);
                } else if (e.key === "ArrowUp" && currentSection > 0) {
                    currentSection--;
                    scrollToSection(currentSection);
                }
            });
        </script>
    </body>
</html>
